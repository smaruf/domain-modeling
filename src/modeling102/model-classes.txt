class User {
    Set<Contribution> contributions;
}

class Contribution {
    User user;
}

class TextContribution extends Contribution {
    Set<Vote> votes;
}

class Idea extends TextContribution {
    Set<Comment> comments;
}

class Comment extends TextContribution {
    Idea idea;
    Set<Comment> replies;
}

class Vote extends Contribution {
    TextContribution textContributions;
}